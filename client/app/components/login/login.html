 <div id="content">
    <section class="login">
      <script type="text/ng-template" id="loading.html">
        <div class="modal-header">
            <!-- <h3 class="modal-title">Error!</h3>-->
        </div>
        <div class="modal-body">
          <sapn style="text-align:center;margin-left:30%;">{{$ctrl.message}}<img style="margin-left:2%; width:5%;" ng-src="{{$ctrl.gif}}" alt="spining"/></span>
        </div>
       <!-- <div class="modal-footer">
            <button class="btn btn-primary" type="button" ng-click="$ctrl.ok()">OK</button>
        </div>-->
      </script>
      <script type="text/ng-template" id="login.html">
        <div class="modal-body" id="modal-body">
                      
                  <div class="container" ng-hide='vm.isSuccessfullRegistration || vm.isSuccessfullLogin'>
                    <div class="row">
                      <div class="col-sm-5">
                          <div class="row">
                            <div class="col-xs-5 col-xs-offset-4  text-center push-tiny--top push-tiny--bottom" >
                               <span class="lebeaucheveu-logo-text"> Lebeaucheveu</span>
                            </div>           
                          </div>
                     
                        <div class="row" id="login-form">

                                                                            <!-- HERE LOGIN FORM -->

                                                                          
                      <div class="form" ng-show="vm.isLoginFormDisplayed">      
                          <ul class="tab-group">
                            <li ng-class="{'tab active':vm.isCustomerFormDisplayed,tab:!vm.isCustomerFormDisplayed}"><a ng-click="vm.toggleDisplayedUserForm('customer')">Client</a></li>
                            <li ng-class="{tab:vm.isCustomerFormDisplayed,'tab active':!vm.isCustomerFormDisplayed}"><a ng-click="vm.toggleDisplayedUserForm('hairdresser')">Coiffeuse</a></li>
                          </ul>                    
                          <div class="tab-content">
                            <div id="signup" ng-show="vm.isCustomerFormDisplayed" > 
                               <div id="facebook" class="social-wrap c">

                                  <!-- Login with facebook -->
                                  <p class="background-line push--top push--bottom">
                                      <span> Connectez vous via facebook </span>
                                  </p>          
                                  <button class="facebook" ng-click="vm.goToFacebookLogin()"> Se connecter avec facebook</button>
                                 <!-- <div class="">
                                        <a class="Mbutton button-facebook" href="{{vm.facebookUrl}}" >
                                          <i class="fa fa-facebook"></i>
                                           Se connecter avec facebook
                                        </a>                   
                                 </div>-->
                              </div><!-- #facebook -->
                              <p class="background-line push--top push--bottom">
                                      <span> Connectez vous avec votre nom d'utilisateur </span>
                              </p> 
                              <form autocomplete="off"  role="login" name="customerLoginForm" novalidate style="display: block;" ng-submit="vm.logCustomer(vm.user,customerLoginForm)">
                                   <div class="field-wrap" ng-class="{ 'has-error' : customerLoginForm.username.$invalid && !customerLoginForm.username.$pristine }">
                                    <label class="label-displayed" for="username"></label>
                                    <input type="text" data-actor="customer" name="username" id="username" autocomplete="false"  ng-model ="vm.user.username" tabindex="1"  placeholder="nom d'utilisateur" value="" required username-existence>
                                    <!-- in case of an error the message below is displayed as part of the list of message errors -->
                                    <span ng-if='customerLoginForm.username.$pending.existusername' class='text-info'>Vérification de la disponibilité ...</span>
                                    <span ng-show='customerLoginForm.username.$invalid && !customerLoginForm.username.$error.existusername &&!customerLoginForm.username.$pristine' class='text-danger'>Le nom d'utilisateur est requis </span>
                                    <span ng-show="customerLoginForm.username.$invalid && customerLoginForm.username.$error.existusername&&!customerLoginForm.username.$pristine" class="text-warning">Ce nom d'utilisateur n'existe pas.</span>
                                  </div>
                                  <div class="field-wrap" ng-class="{ 'has-error' : customerLoginForm.password.$invalid && !customerLoginForm.password.$pristine }">
                                    <label class="label-displayed" for="password"></label>
                                    <input type="password" name="password" id="password"  autocomplete="false"  ng-model ="vm.user.password" tabindex="2"  placeholder="mot de passe" value="" required password-validator>
                                    <!-- in case of an error the message below is displayed as part of the list of message errors -->
                                    <span ng-show="customerLoginForm.password.$invalid && !customerLoginForm.password.$error.password&&!customerLoginForm.password.$pristine" class="text-danger">Le mot de passe est requis</span>
                                    <span ng-show='customerLoginForm.password.$error.password && !customerLoginForm.password.$pristine' class='text-warning'>Le mot de passe saisi doit contenir au minimum 8 caractères alphabétiques et/ou numériques</span>
</div>          
                                  <div class="row">
                                    <div class=" ">
                                      <input type="submit"  ng-disabled="customerLoginForm.$invalid" name="login-submit" id="login-submit" tabindex="4" class="Mbutton button-block" value="Se connecter">
                                    </div>
                                  </div>
                                 <div class="form-group">
                                  <div class="row">
                                    <div class="col-lg-12">
                                      <div class="text-center">
                                        <a  tabindex="5" ng-click="vm.passwordForgot()" class="forgot-password">Mot de passe oublié?</a>
                                      </div>
                                    </div>
                                  </div>
                                </div>                
                              </form>  <!-- customer login form -->                
                            </div>
                            
                            <div id="login" ng-hide="vm.isCustomerFormDisplayed"> 

                              <p class="background-line push--top push--bottom">
                                      <span> Connectez vous avec votre nom d'utilisateur </span>
                              </p>               
                              <form autocomplete="off"  role="login" name="hairdresserLoginForm" novalidate style="display: block;" ng-submit="vm.logHairdresser(vm.hairdresser,hairdresserLoginForm)">                                    
                                <div  class="field-wrap" ng-class="{ 'has-error' : hairdresserLoginForm.username.$invalid && !hairdresserLoginForm.username.$pristine }">
                                  <label class="label-displayed" for="username"></label>
                                  <input type="text"  data-actor="hairdresser" name="username" id="username" autocomplete="false"  ng-model ="vm.hairdresser.username" tabindex="1"  placeholder="nom d'utilisateur" value="" required username-existence>
                                  <!-- in case of an error the message below is displayed as part of the list of message errors -->
                                  <span ng-if='hairdresserLoginForm.username.$pending.existusername' class='text-info'>Vérification de la disponibilité ...</span>
                                  <span ng-show='hairdresserLoginForm.username.$invalid && !hairdresserLoginForm.username.$error.existusername &&!hairdresserLoginForm.username.$pristine' class='text-danger'>Le nom d'utilisateur est requis </span>
                                  <span ng-show="hairdresserLoginForm.username.$invalid && hairdresserLoginForm.username.$error.existusername&&!hairdresserLoginForm.username.$pristine" class="text-warning">Ce nom d'utilisateur n'existe pas.</span>
                                </div>          
                                <div class="field-wrap" ng-class="{ 'has-error' : hairdresserLoginForm.password.$invalid && !hairdresserLoginForm.password.$pristine }">
                                      <label class="label-displayed" for="password"></label>
                                      <input type="password" name="password" id="password"  autocomplete="false"  ng-model ="vm.hairdresser.password" tabindex="2"  placeholder="mot de passe" value="" required password-validator>
                                      <!-- in case of an error the message below is displayed as part of the list of message errors -->
                                      <span ng-show="hairdresserLoginForm.password.$invalid && !hairdresserLoginForm.password.$error.password&&!hairdresserLoginForm.password.$pristine" class="text-danger">Le mot de passe est requis</span>
                                      <span ng-show='hairdresserLoginForm.password.$error.password && !hairdresserLoginForm.password.$pristine' class='text-warning'>Le mot de passe saisi doit contenir au minimum 8 caractères alphabétiques et/ou numériques</span>

                               </div>         
                              <div class="row">
                                <div class="">
                                  <input type="submit"  ng-disabled="hairdresserLoginForm.$invalid" name="login-submit" id="login-submit" tabindex="4" class="Mbutton button-block" value="Se connecter" ng-click="vm.closeModal()">
                                </div>
                              </div>          
                              <div class="form-group">
                                <div class="row">
                                  <div class="col-lg-12">
                                    <div class="text-center">
                                      <a  tabindex="5" ng-click="vm.passwordForgot()" class="forgot-password">Mot de passe oublié?</a>
                                    </div>
                                  </div>
                                </div>
                              </div>   
                            </form><!-- end hairdresser form -->
                            </div>            
                        </div><!-- tab-content -->          
                    </div> <!-- .form -->
                      
                      <div ng-show="vm.isLoginFormDisplayed" class="text-center">
                      <hr>
                        Vous n'avez pas de compte? <a ng-click="vm.toggleDisplayedForm()" id="register-form-link">Inscription</a>              
                      </div>
                  </div><!-- .login-form-->
                  </div><!-- .col-sm-5  -->
                  </div><!-- row -->
                                                                                <!-- REGISTER FORM -->
                                        
                           <div class="row">
                            <div class="col-sm-5" >
                              <form autocomplete="off" role="register" ng-hide ="vm.isLoginFormDisplayed" id="register-form"  name="registerForm"  novalidate ng-submit="vm.registerNewAccount(vm.user,registerForm)">
                               <p class="background-line push--top push--bottom">
                                  <span> Bienvenue sur Lebeaucheveu </span>
                              </p>
                              <!-- username -->
                              <div class="field-wrap" ng-class="{ 'has-error' : registerForm.username.$invalid && !registerForm.username.$pristine }">
                                  <label class="label-displayed" for="username"></label>
                                  <input type="text" name="username" id="register-username"  ng-model ="vm.user.username" tabindex="1"  placeholder="nom d'utilisateur" value="" required username-validator>
                                  <!-- in case of an error the message below is displayed as part of the list of message errors -->
                                  <span ng-if='registerForm.username.$pending.uniqueusername' class='text-info'>Vérification de la disponibilité ...</span>
                                  <span ng-show='registerForm.username.$invalid&& !registerForm.username.$error.uniqueusername &&!registerForm.username.$pristine' class='text-danger'>Le nom d'utilisateur est requis </span>
                                  <span ng-show="registerForm.username.$invalid &&registerForm.username.$error.uniqueusername&&!registerForm.username.$pristine" class="text-warning">Le nom d'utilisateur choisi n'est plus disponible.</span>
                                </div>
                                 <!-- firstname -->
                                <div class="field-wrap" ng-class="{ 'has-error' : registerForm.firstname.$invalid && !registerForm.firstname.$pristine }">
                                  <label class="label-displayed" for="firstname"></label>
                                  <input type="text" name="firstname" id="register-firstname"  ng-model ="vm.user.firstname" tabindex="1"  placeholder="prénom " value="" required>
                                  <!-- in case of an error the message below is displayed as part of the list of message errors -->
                                  <span ng-show='registerForm.firstname.$invalid &&!registerForm.firstname.$pristine' class='text-danger'>Le nom d'utilisateur est requis </span>
                                </div>
                                 <!-- lastname -->
                                <div class="field-wrap" ng-class="{ 'has-error' : registerForm.lastname.$invalid && !registerForm.lastname.$pristine }">
                                  <label class="label-displayed" for="lastname"></label>
                                  <input type="text" name="lastname" id="register-lastname"  ng-model ="vm.user.lastname" tabindex="1"  placeholder="nom" value="" required>
                                  <!-- in case of an error the message below is displayed as part of the list of message errors -->
                                  <span ng-show='registerForm.lastname.$invalid &&!registerForm.lastname.$pristine' class='text-danger'>Le nom d'utilisateur est requis </span>
                                </div>
                                 <!-- email -->
                                <div class="field-wrap" ng-class="{ 'has-error' : registerForm.email.$invalid && !registerForm.email.$pristine }">
                                  <label class="label-displayed" for="email"></label>
                                  <input type="text" name="email" id="register-email"  ng-model ="vm.user.email" tabindex="1"  placeholder="email" value="" required email-validator>
                                  <!-- in case of an error the message below is displayed as part of the list of message errors -->
                                  <span ng-show="registerForm.email.$invalid && !registerForm.email.$error.email &&!registerForm.email.$pristine" class="text-danger">L'email est requis </span>
                                  <span ng-show='registerForm.email.$invalid && registerForm.email.$error.email && !registerForm.email.$pristine' class='text-warning'>L'email saisi n'est pas valide</span>
                                </div>
                                 <!-- password-->
                                <div class="field-wrap" ng-class="{ 'has-error' : registerForm.password.$invalid && !registerForm.password.$pristine }">
                                  <label class="label-displayed" for="password"></label>
                                  <input type="password" name="password" id="register-password"  ng-model ="vm.user.password" tabindex="1"  placeholder="mot de passe" value="dsds" required password-validator>
                                  <!-- in case of an error the message below is displayed as part of the list of message errors -->
                                  <span ng-show="registerForm.password.$invalid && !registerForm.password.$error.password&&!registerForm.password.$pristine" class="text-danger">Le mot de passe est requis</span>
                                  <span ng-show='registerForm.password.$error.password && !registerForm.password.$pristine' class='text-warning'>Le mot de passe saisi doit contenir au minimum 8 caractères alphabétiques et/ou numériques</span>
                                </div>
                                 <!-- password confirmation -->
                                <div class="field-wrap" ng-class="{ 'has-error' : registerForm.passwordConfirmation.$invalid && !registerForm.passwordConfirmation.$pristine }">
                                  <label class="label-displayed" for="passwordConfirmation"></label>
                                  <input type="password" name="passwordConfirmation" id="register-password-confirmation"  ng-model ="vm.user.passwordConfirmation" tabindex="1"  placeholder="confirmation du mot de passe" value="" required password-confirmation>
                                  <!-- in case of an error the message below is displayed as part of the list of message errors -->
                                  <span ng-show="registerForm.passwordConfirmation.$invalid && registerForm.passwordConfirmation.$error.passwordconfirmation &&!registerForm.passwordConfirmation.$pristine" class="text-danger">les mots de passe doivent être identique. </span>
                                  
                                </div>
                                <div class='field-wrap hairdresser-checkbox'>
                                  <span  class='hairdresser-label'  for='role'>Êtes-vous un(e) coiffeuse/coiffeur ?</span>
                                  <input type='checkbox' tabindex="3"  name='role'  ng-model="vm.user.role" ng-init="vm.user.role=2"  ng-true-value='1' ng-false-value='2' id="register-role">
                               </div>
                                <div class="form-group push-tiny--top">
                                  <div class="row">
                                    <!-- <div class="col-sm-6 col-sm-offset-3"> -->
                                    <div class="">
                                      <input type="submit"  ng-disabled="registerForm.$invalid" name="register-submit" id="register-submit" tabindex="2" class="Mbutton button-block" value="S'inscrire" >
                                    </div>
                                  </div>
                                </div>
                                <hr/>
                                <div class="text-center">
                                 <!--  Se connecter? <a ng-click="vm.goToLoginView()" id="login-form-link">Connexion</a>     --> 
                                 Se connecter? <a ng-click="vm.toggleDisplayedForm()" id="login-form-link">Connexion</a>          
                                </div>
                              </form>
                            </div><!-- end col-lg-12 -->
                          </div><!-- end target row -->
                      </div><!-- end panel-login -->
                    </div>
                  </div>
                  </div> 
                  <div class="container" id="successfull-registration" ng-show="vm.isSuccessfullRegistration">
                       <div class="row">
                         <div class="col-md-5">
                            <div class="row">
                              <div class="col-xs-6 col-xs-offset-2 push-tiny--top push-tiny--bottom" >
                                 <span class="message-registration-success text-success background-line push--top push--bottom">Bienvenue sur Lebeaucheveu</span>
                              </div> <!-- end .col -->          
                          </div><!-- end .row -->  
                          <div class="row">         
                             
                                    <p class='lebeaucheveu-logo-text'> Lebeaucheveu se veut être une palteforme de reférence pour la coiffure à domicile. Dès votre connection vous aurez accès à de nombreux
                                      profile de coiffeuses/coiffeurs, offrant de nombreuse prestations. Nous mettons aussi à votre disposition de nombreux produits qui vous 
                                      aiderons à donner vie à vos styles les plus fous.<br/>
                                    </p> 
                                             
                          </div> <!-- end .row -->     
                          <div class="row">
                            <div class="col-xs-offset-4 col-xs-4">
                              <!--  <a class='login-link' ng-click='vm.goToLoginView()'>Se connecter </a> -->
                             <a href ng-click="vm.launchLoginModal('lg')" class="btn-lbc">Se connecter </a>
                            </div>
                          </div> <!-- end .row -->   
                         </div><!-- end .col --> 
                      </div> <!-- end .row -->
                  </div>
                  <div class="container" id="successfull-login" ng-show="vm.isSuccessfullLogin">
                      <div class="row">
                          <p> Successfull Login </p>
                      </div>  
                  </div> 
        </div> <!-- .modal-body #modal-body -->
      </div><!-- #content -->
      </section>
    </script>
<a href ng-click="vm.goToLoginform('lg')" id="login-link " class="btn-lbc">{{name}}</a>
